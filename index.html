<script>
document.querySelectorAll('.options').forEach(group => {
  const labels = group.querySelectorAll('label');
  group.querySelectorAll('input').forEach(input => {
    input.addEventListener('change', () => {
      labels.forEach(l => {
        l.classList.add('dimmed');
        l.classList.remove('selected');
      });
      input.parentElement.classList.remove('dimmed');
      input.parentElement.classList.add('selected');
    });
  });
});

function calculateResult() {
  const scores = { A:0, B:0, C:0, D:0, E:0, F:0, G:0 };

  for (let i = 1; i <= 10; i++) {
    const q = document.querySelector(`input[name="q${i}"]:checked`);
    if (!q) {
      alert("Merci de répondre à toutes les questions.");
      return;
    }
    scores[q.value]++;
  }

  let max = "A";
  for (let k in scores) {
    if (scores[k] > scores[max]) max = k;
  }

  const poles = {
    A: "Pôle Présidence",
    B: "Pôle Business",
    C: "Pôle Communication",
    D: "Pôle Qualité",
    E: "Pôle IT",
    F: "Pôle Trésorerie",
    G: "Pôle Secrétariat"
  };

  const r = document.getElementById("result");
  r.style.display = "block";
  r.textContent = "Tu corresponds au " + poles[max];
}
</script>
